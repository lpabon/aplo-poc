apiVersion: v1
kind: Pod
metadata:
  name: gluster-1
  labels:
    name: gluster-1
spec:
  hostNetwork: true
  nodeSelector:
    name: worker-100
  containers:
    - name: glusterfs
      image: lpabon/gluster
      ports:
        - name: ssh
          containerPort: 22
      securityContext: 
        capabilities: {}
        privileged: true
      volumeMounts:
        - name: brick
          mountPath: /srv/brick
        - name: cgroups
          mountPath: /sys/fs/cgroup
          readOnly: true
  volumes:
    - name: brick
      hostPath:
        path: "/srv/brick"
    - name: cgroups
      hostPath:
        path: "/sys/fs/cgroup"
